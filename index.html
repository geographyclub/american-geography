<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,600,900" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,600,900" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<title>American Geography</title>
</head>
<body>

<header>
<div><a href="#"><h1 style="font-size:18px;"><span style="font-weight:600">american</span><span style="font-family:'Pacifico'">geography</span></h1></a></div>
<div class="menu-icon">&#9776;</div>
<nav>
<a href="#" onclick="closeMenu()">Home</a>
<a href="https://geographyclub.github.io/asean/" target="_blank">Asean Primer</a>
<!--<a href="#" onclick="scrollToSection('Brunei');">Brunei</a>-->
</nav>
</header>

<div class="container">
  <div class="flex-container"><div class="flex-column-wide color-gradient" style="padding:10px 0"><h1 style="font-size:20px; line-height:0.8; letter-spacing:-1px;"><span style="font-size:60px; line-height:0.2">10</span><br>Random stats from<br><a href="https://www.cia.gov/the-world-factbook/" target="_blank">The US Census</a></h1></div></div>
  <div class="flex-container" id="resultContainer"></div>
</div>

<!--<div class="border-container"><div class="color-block"></div><div class="color-block"></div><div class="color-block"></div></div>-->

<script>
<!-- ls -1 | sed -e 's/^/"/g' -e 's/$/"/g' | paste -sd, -->
const files = ["alabama.json","alaska.json","americansamoa.json","arizona.json","arkansas.json","california.json","colorado.json","commonwealthofthenorthernmarianaislands.json","connecticut.json","delaware.json","districtofcolumbia.json","florida.json","georgia.json","guam.json","hawaii.json","idaho.json","illinois.json","indiana.json","iowa.json","kansas.json","kentucky.json","louisiana.json","maine.json","maryland.json","massachusetts.json","michigan.json","minnesota.json","mississippi.json","missouri.json","montana.json","nebraska.json","nevada.json","newhampshire.json","newjersey.json","newmexico.json","newyork.json","northcarolina.json","northdakota.json","ohio.json","oklahoma.json","oregon.json","pennsylvania.json","puertorico.json","rhodeisland.json","southcarolina.json","southdakota.json","tennessee.json","texas.json","unitedstatesvirginislands.json","utah.json","vermont.json","virginia.json","washington.json","westvirginia.json","wisconsin.json","wyoming.json"]

var codes;
const labelsUrl = 'https://raw.githubusercontent.com/geographyclub/american-geography/main/json/DP02_labels.json';
fetch(labelsUrl)
  .then(response => {
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    return response.json();
  })
  .then(data => {
    // Assign the parsed JSON data to a variable
    codes = data;

    console.log(codes);
  })
  .catch(error => {
    console.error('Error fetching the file:', error);
  });

let counterValue = 1;
// Fetch JSON
function fetchData() {

var random = Math.floor(Math.random() * files.length);
var file = files[random];
var jsonFileUrl = 'https://raw.githubusercontent.com/geographyclub/american-geography/main/json/states/'+file;

// Generate a random index to pick a random file
  var randomIndex = Math.floor(Math.random() * files.length);
  var randomFile = files[randomIndex];
  var jsonFileUrl = `https://raw.githubusercontent.com/geographyclub/american-geography/main/json/states/${randomFile}`;

// Fetch the random JSON file
  return fetch(jsonFileUrl)
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.json();
    })
    .then(jsonData => {
      // Assuming the JSON data is an array of objects
      if (Array.isArray(jsonData) && jsonData.length > 0) {
        // Pick a random object from the array
        var randomObjectIndex = Math.floor(Math.random() * jsonData.length);
        var randomObject = jsonData[randomObjectIndex];

        // Get an array of property names from the random object
        var propertyNames = Object.keys(randomObject);

        // Initialize variables for random property and value
        var randomPropertyName, randomValue;

        // Pick a random property name and value, ensuring it's not null or "(X)"
        do {
          var randomPropertyNameIndex = Math.floor(Math.random() * propertyNames.length);
          randomPropertyName = propertyNames[randomPropertyNameIndex];
          randomValue = randomObject[randomPropertyName];
        } while (randomValue === null || randomValue === "(X)");

        console.log(`Random Property: ${randomPropertyName}, Random Value: ${randomValue}`);

        // You can return or use the random property and its value as needed
        return {
          randomPropertyName: randomPropertyName,
          randomValue: randomValue
        };
      } else {
        throw new Error('Invalid JSON format');
      }
    })
    .catch(error => {
      console.error('Error fetching or processing data:', error);
    });
counterValue += 1;
}

const numberOfFetches = 10;
for (let i = 0; i < numberOfFetches; i++) {
  fetchData();
}

</script>

<!-- close menu -->
<script>
document.querySelector('.menu-icon').addEventListener('click', function () {
document.querySelector('nav').classList.toggle('show');
});
function closeMenu() {
document.querySelector('nav').classList.remove('show');
}
</script>

<!-- scroll to section with offset -->
<script>
function scrollToSection(sectionId) {
const targetSection = document.getElementById(sectionId);
const offset = 50;

if (targetSection) {
window.scrollTo({
top: targetSection.offsetTop - offset,
behavior: 'smooth'
});
}
event.preventDefault();
closeMenu();
}
</script>

</body>
</html>
