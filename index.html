<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,600,800" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<title>American Geography</title>
</head>
<body>

<header>
<div><a href="#"><h1 style="font-size:14px"><span>american</span><span style="color:#46bfbd">geography</span></h1></a></div>
<div class="menu-icon">&#9776;</div>
<nav>
<a href="#" onclick="closeMenu()">Home</a>
<a href="https://geographyclub.github.io/asean/" target="_blank">Asean Primer</a>
<!--<a href="#" onclick="scrollToSection('Brunei');">Brunei</a>-->
</nav>
</header>

<div class="container" id="jsonContainer">
<div class="flex-column-wide" style="padding-top:5px"><h1>State vs State</h1><h2>from the <a href="https://data.census.gov/" target="_blank">US Census</a></h2></div>
</div>

<!--<div class="border-container"><div class="color-block"></div><div class="color-block"></div><div class="color-block"></div></div>-->

<script>
function fetchData() {
  // Generate a random prefix each time the function is called
  const prefixes = ["dp02", "dp03", "dp04", "dp05"];
  const randomPrefix = prefixes[Math.floor(Math.random() * prefixes.length)];

  // Construct the labels URL with the random prefix
  const labelsUrl = `https://raw.githubusercontent.com/geographyclub/american-geography/main/json/${randomPrefix}_labels.json`;

  // Fetch the labels JSON file
  fetch(labelsUrl)
    .then(response => response.json())
    .then(labelsData => {
      // Select a random object from the labels array
      const randomLabelObject = labelsData[Math.floor(Math.random() * labelsData.length)];

      // Log the key and value separately
      for (const [key, value] of Object.entries(randomLabelObject)) {
        console.log(`${key}: ${value}`);
      }

      // Now, fetch the second JSON file
      const fileUrl = `https://raw.githubusercontent.com/geographyclub/american-geography/main/json/states/${randomPrefix}_states.json`;

      fetch(fileUrl)
        .then(response => response.json())
        .then(secondFileData => {
          // Find all matching keys
          const matchingKeys = Object.keys(randomLabelObject).filter(key => key in secondFileData[0]);

          // Log the matching keys
          console.log("Matching keys:", matchingKeys);
        })
        .catch(error => console.error("Error fetching second file:", error));
    })
    .catch(error => console.error("Error fetching labels:", error));
}

fetchData();


</script>




<!-- close menu -->
<script>
document.querySelector('.menu-icon').addEventListener('click', function () {
document.querySelector('nav').classList.toggle('show');
});
function closeMenu() {
document.querySelector('nav').classList.remove('show');
}
</script>

<!-- scroll to section with offset -->
<script>
function scrollToSection(sectionId) {
const targetSection = document.getElementById(sectionId);
const offset = 50;

if (targetSection) {
window.scrollTo({
top: targetSection.offsetTop - offset,
behavior: 'smooth'
});
}
event.preventDefault();
closeMenu();
}
</script>

</body>
</html>
